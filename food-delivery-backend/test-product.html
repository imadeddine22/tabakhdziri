<!DOCTYPE html>
<html>
<head>
    <title>Test Product Creation</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†ØªØ¬</h1>
    
    <form id="productForm">
        <div>
            <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:</label>
            <input type="text" name="name" value="Ù…Ù†ØªØ¬ ØªØ¬Ø±ÙŠØ¨ÙŠ" required>
        </div>
        <div>
            <label>Ø§Ù„ÙˆØµÙ:</label>
            <textarea name="description" required>ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ</textarea>
        </div>
        <div>
            <label>Ø§Ù„Ø³Ø¹Ø±:</label>
            <input type="number" name="price" value="1000" required>
        </div>
        <div>
            <label>Ù…Ø¹Ø±Ù Ø§Ù„ÙØ¦Ø©:</label>
            <input type="text" name="category" value="" placeholder="Ø£Ø¯Ø®Ù„ Ù…Ø¹Ø±Ù Ø§Ù„ÙØ¦Ø©" required>
        </div>
        <div>
            <label>Ø§Ù„Ù…Ø®Ø²ÙˆÙ†:</label>
            <input type="number" name="stock" value="100" required>
        </div>
        <div>
            <label>Ø§Ù„ØµÙˆØ±Ø©:</label>
            <input type="file" name="image" accept="image/*">
        </div>
        <div>
            <label>Ù…ØªÙˆÙØ±:</label>
            <input type="checkbox" name="isAvailable" checked>
        </div>
        <button type="submit">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬</button>
    </form>

    <h2>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</h2>
    <pre id="result"></pre>

    <script>
        document.getElementById('productForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const token = prompt('Ø£Ø¯Ø®Ù„ Ø§Ù„ØªÙˆÙƒÙ† (Token):');
            
            try {
                console.log('ğŸ”„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨...');
                
                const response = await fetch('http://localhost:5000/api/products', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`
                    },
                    body: formData
                });
                
                console.log('ğŸ“Š Ø§Ù„Ø­Ø§Ù„Ø©:', response.status);
                const data = await response.json();
                console.log('ğŸ“¦ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', data);
                
                document.getElementById('result').textContent = JSON.stringify(data, null, 2);
                
                if (response.ok) {
                    alert('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­!');
                } else {
                    alert('âŒ ÙØ´Ù„: ' + data.message);
                }
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£:', error);
                document.getElementById('result').textContent = 'Ø®Ø·Ø£: ' + error.message;
            }
        });
    </script>
</body>
</html>
