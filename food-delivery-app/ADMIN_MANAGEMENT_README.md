# ูุธุงู ุฅุฏุงุฑุฉ ุงููุณุคูููู (Admin Management System)

## ูุธุฑุฉ ุนุงูุฉ
ูุธุงู ุขูู ูุดุงูู ูุฅุฏุงุฑุฉ ุญุณุงุจุงุช ุงููุณุคูููู (Administrators) ูู ุงูุชุทุจูู. ูุณูุญ ูููุณุคูููู ุงูุญุงูููู ุจุฅุถุงูุฉ ูุณุคูููู ุฌุฏุฏุ ุชุนุฏูู ุจูุงูุงุชููุ ุชูุนูู/ุชุนุทูู ุญุณุงุจุงุชููุ ูุญุฐููุง ูุน ุถูุงุจุท ุฃูุงู ุตุงุฑูุฉ.

## ุงููููุฒุงุช ุงูุฃูููุฉ ๐

### 1. **ุญูุงูุฉ ูู ุงูุญุฐู ุงูุฐุงุชู**
- ูุง ูููู ูููุณุคูู ุญุฐู ุญุณุงุจู ุงูุฎุงุต
- ูุง ูููู ูููุณุคูู ุชุนุทูู ุญุณุงุจู ุงูุฎุงุต
- ูุง ูููู ูููุณุคูู ุฅุฒุงูุฉ ุตูุงุญูุงุช ุงูุฅุฏุงุฑุฉ ูู ุญุณุงุจู

### 2. **ุญูุงูุฉ ุขุฎุฑ ูุณุคูู**
- ูุง ูููู ุญุฐู ุขุฎุฑ ูุณุคูู ูู ุงููุธุงู
- ูุฌุจ ุฃู ูุจูู ูุณุคูู ูุงุญุฏ ุนูู ุงูุฃูู ูุดุทุงู

### 3. **ุชุดููุฑ ูููุงุช ุงููุฑูุฑ**
- ุฌููุน ูููุงุช ุงููุฑูุฑ ูุดูุฑุฉ ุจุงุณุชุฎุฏุงู bcrypt
- ูุง ูุชู ุชุฎุฒูู ูููุงุช ุงููุฑูุฑ ุจุดูู ูุตู

### 4. **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช**
- ุฌููุน ุงูุนูููุงุช ูุญููุฉ ุจู middleware ูููุตุงุฏูุฉ
- ููุท ุงููุณุคูููู ูููููู ุงููุตูู ููุฐู ุงูุตูุญุฉ

## ุงููููุฒุงุช ุงููุธูููุฉ โจ

### 1. **ุฅุถุงูุฉ ูุณุคูู ุฌุฏูุฏ**
- ุฅุฏุฎุงู ุงูุงุณู ุงููุงูู
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ูุฑูุฏ)
- ุฑูู ุงููุงุชู (ุงุฎุชูุงุฑู)
- ูููุฉ ูุฑูุฑ ูููุฉ (6 ุฃุญุฑู ุนูู ุงูุฃูู)
- ูุชู ุชุนููู ุฏูุฑ "admin" ุชููุงุฆูุงู

### 2. **ุชุนุฏูู ุจูุงูุงุช ุงููุณุคูู**
- ุชุญุฏูุซ ุงูุงุณู
- ุชุญุฏูุซ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุชุญุฏูุซ ุฑูู ุงููุงุชู
- ุชุบููุฑ ูููุฉ ุงููุฑูุฑ (ุงุฎุชูุงุฑู)

### 3. **ุชูุนูู/ุชุนุทูู ุงูุญุณุงุจ**
- ุชุนุทูู ุญุณุงุจ ูุณุคูู ุฏูู ุญุฐูู
- ุฅุนุงุฏุฉ ุชูุนูู ุงูุญุณุงุจ ุนูุฏ ุงูุญุงุฌุฉ
- ุงููุณุคูููู ุงููุนุทููู ูุง ูููููู ุชุณุฌูู ุงูุฏุฎูู

### 4. **ุญุฐู ุงููุณุคูู**
- ุญุฐู ููุงุฆู ููุญุณุงุจ
- ูุน ุงูุชุญูู ูู ุนุฏู ูููู ุขุฎุฑ ูุณุคูู
- ุชุฃููุฏ ูุจู ุงูุญุฐู

## ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ ๐๏ธ

### Backend
- **Node.js + Express**: ุฎุงุฏู API
- **MongoDB + Mongoose**: ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **bcryptjs**: ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- **JWT**: ุงููุตุงุฏูุฉ ูุงูุชูููุถ

### Frontend
- **Next.js 14**: ุฅุทุงุฑ ุงูุนูู
- **TypeScript**: ูุบุฉ ุงูุจุฑูุฌุฉ
- **Tailwind CSS**: ุงูุชุตููู
- **Lucide React**: ุงูุฃููููุงุช

## API Endpoints ๐ก

### 1. ุฌูุจ ุฌููุน ุงููุณุคูููู
```
GET /api/admin/admins
Authorization: Bearer {token}
```

**Response:**
```json
{
  "success": true,
  "count": 3,
  "data": [
    {
      "_id": "...",
      "name": "Admin Name",
      "email": "admin@example.com",
      "phone": "+213...",
      "role": "admin",
      "isActive": true,
      "createdAt": "2024-01-01T00:00:00.000Z"
    }
  ]
}
```

### 2. ุฅุถุงูุฉ ูุณุคูู ุฌุฏูุฏ
```
POST /api/admin/admins
Authorization: Bearer {token}
Content-Type: application/json

{
  "name": "New Admin",
  "email": "newadmin@example.com",
  "password": "securepassword123",
  "phone": "+213555123456"
}
```

**Response:**
```json
{
  "success": true,
  "message": "Admin created successfully",
  "data": {
    "id": "...",
    "name": "New Admin",
    "email": "newadmin@example.com",
    "phone": "+213555123456",
    "role": "admin",
    "createdAt": "2024-01-01T00:00:00.000Z"
  }
}
```

### 3. ุชุญุฏูุซ ูุณุคูู
```
PUT /api/admin/admins/:id
Authorization: Bearer {token}
Content-Type: application/json

{
  "name": "Updated Name",
  "email": "updated@example.com",
  "phone": "+213555999888",
  "password": "newpassword123"  // ุงุฎุชูุงุฑู
}
```

### 4. ุชูุนูู/ุชุนุทูู ูุณุคูู
```
PATCH /api/admin/admins/:id/toggle
Authorization: Bearer {token}
```

### 5. ุญุฐู ูุณุคูู
```
DELETE /api/admin/admins/:id
Authorization: Bearer {token}
```

## ุฑุณุงุฆู ุงูุฎุทุฃ ๐ซ

### ุฃุฎุทุงุก ุดุงุฆุนุฉ:

1. **"You cannot delete your own admin account"**
   - ุงููุณุคูู ูุญุงูู ุญุฐู ุญุณุงุจู ุงูุฎุงุต

2. **"Cannot delete the last admin. At least one admin must exist."**
   - ูุญุงููุฉ ุญุฐู ุขุฎุฑ ูุณุคูู ูู ุงููุธุงู

3. **"You cannot deactivate your own account"**
   - ุงููุณุคูู ูุญุงูู ุชุนุทูู ุญุณุงุจู ุงูุฎุงุต

4. **"User already exists with this email"**
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุชุฎุฏู ูุณุจูุงู

5. **"This user is not an admin"**
   - ูุญุงููุฉ ุชุนุฏูู/ุญุฐู ูุณุชุฎุฏู ุนุงุฏู ูู ุตูุญุฉ ุงููุณุคูููู

## ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ๐จ

### ููููุงุช ุงูุตูุญุฉ:

1. **Header**
   - ุนููุงู ุงูุตูุญุฉ
   - ุฒุฑ ุฅุถุงูุฉ ูุณุคูู ุฌุฏูุฏ

2. **ุชูุจูู ุฃููู**
   - ุชุญุฐูุฑ ุญูู ุตูุงุญูุงุช ุงููุณุคูููู
   - ูุธูุฑ ุฏุงุฆูุงู ูู ุฃุนูู ุงูุตูุญุฉ

3. **ูููุฐุฌ ุงูุฅุถุงูุฉ/ุงูุชุนุฏูู**
   - Modal ููุจุซู
   - ุญููู: ุงูุงุณูุ ุงูุจุฑูุฏุ ุงููุงุชูุ ูููุฉ ุงููุฑูุฑ
   - ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

4. **ุฌุฏูู ุงููุณุคูููู**
   - ุนุฑุถ ุฌููุน ุงููุณุคูููู
   - ูุนูููุงุช: ุงูุงุณูุ ุงูุจุฑูุฏุ ุงููุงุชูุ ุงูุญุงูุฉุ ุชุงุฑูุฎ ุงูุฅูุดุงุก
   - ุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุกุงุช: ุชุนุฏููุ ุชูุนูู/ุชุนุทููุ ุญุฐู
   - ุชูููุฒ ุงููุณุคูู ุงูุญุงูู

5. **ุฅุญุตุงุฆูุงุช**
   - ุฅุฌูุงูู ุงููุณุคูููู
   - ุงููุณุคูููู ุงููุดุทูู
   - ุงููุณุคูููู ุงููุนุทููู

### ุงูุญุงูุงุช ุงูุฎุงุตุฉ:

- **Loading State**: ุนุฑุถ spinner ุฃุซูุงุก ุงูุชุญููู
- **Empty State**: ุฑุณุงูุฉ ุนูุฏ ุนุฏู ูุฌูุฏ ูุณุคูููู
- **Current User Badge**: ุชูููุฒ ุงููุณุคูู ุงูุญุงูู ุจุดุงุฑุฉ "ุฃูุช"/"Vous"
- **Disabled Actions**: ุชุนุทูู ุฃุฒุฑุงุฑ ุงูุญุฐู ูุงูุชุนุทูู ูููุณุคูู ุงูุญุงูู

## ุฏุนู ุงููุบุงุช ๐

ุงููุธุงู ูุฏุนู ุจุงููุงูู:
- **ุงูุนุฑุจูุฉ** (RTL)
- **ุงููุฑูุณูุฉ** (LTR)

ุฌููุน ุงููุตูุตุ ุงูุฑุณุงุฆูุ ูุงูุชูุจููุงุช ูุชููุฑุฉ ุจุงููุบุชูู.

## ุงูุฃูุงู ูุงูุฃูุถููุงุช ๐ก๏ธ

### 1. **ูููุงุช ุงููุฑูุฑ**
- ุงูุญุฏ ุงูุฃุฏูู: 6 ุฃุญุฑู
- ูุชู ุชุดููุฑูุง ูุจู ุงูุญูุธ
- ูุง ูุชู ุฅุฑุฌุงุนูุง ูู API responses

### 2. **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช**
```javascript
router.use(protect);           // ุงูุชุญูู ูู ุชุณุฌูู ุงูุฏุฎูู
router.use(authorize('admin')); // ุงูุชุญูู ูู ุฏูุฑ ุงููุณุคูู
```

### 3. **ุงูุชุญูู ูู ุงูุจูุงูุงุช**
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุงูุชุญูู ูู ุนุฏู ุชูุฑุงุฑ ุงูุจุฑูุฏ
- ุงูุชุญูู ูู ุทูู ูููุฉ ุงููุฑูุฑ

### 4. **ุญูุงูุฉ ูู CSRF**
- ุงุณุชุฎุฏุงู JWT tokens
- ุงูุชุญูู ูู ุงูู token ูู ูู ุทูุจ

## ุงูุงุณุชุฎุฏุงู ๐

### ูููุณุคูู:

1. **ุงููุตูู ููุตูุญุฉ**
   ```
   /admin/admins
   ```

2. **ุฅุถุงูุฉ ูุณุคูู ุฌุฏูุฏ**
   - ุงููุฑ "ุฅุถุงูุฉ ูุณุคูู ุฌุฏูุฏ"
   - ุงููุฃ ุงููููุฐุฌ
   - ุงููุฑ "ุญูุธ"

3. **ุชุนุฏูู ูุณุคูู**
   - ุงููุฑ ุฃููููุฉ ุงูุชุนุฏูู
   - ุนุฏูู ุงูุจูุงูุงุช
   - ุงููุฑ "ุญูุธ"

4. **ุชูุนูู/ุชุนุทูู**
   - ุงููุฑ ุฃููููุฉ ุงูุนูู
   - ูุชู ุงูุชุจุฏูู ููุฑุงู

5. **ุญุฐู ูุณุคูู**
   - ุงููุฑ ุฃููููุฉ ุงูุญุฐู
   - ุฃูุฏ ุงูุญุฐู

## ุงููููุงุช ุงููุนุฏูุฉ/ุงููุถุงูุฉ ๐

### Backend:
```
food-delivery-backend/
โโโ models/
โ   โโโ User.js (ูุญุฏุซ - ุฅุถุงูุฉ isActive)
โโโ controllers/
โ   โโโ adminController.js (ูุญุฏุซ - ุฅุถุงูุฉ ูุธุงุฆู ุฅุฏุงุฑุฉ ุงููุณุคูููู)
โโโ routes/
    โโโ adminRoutes.js (ูุญุฏุซ - ุฅุถุงูุฉ ูุณุงุฑุงุช ุงููุณุคูููู)
```

### Frontend:
```
food-delivery-app/
โโโ app/
โ   โโโ admin/
โ       โโโ admins/
โ           โโโ page.tsx (ุฌุฏูุฏ)
โโโ components/
โ   โโโ AdminLayout.tsx (ูุญุฏุซ - ุฅุถุงูุฉ ุฑุงุจุท)
โโโ locales/
    โโโ ar.json (ูุญุฏุซ - ุฅุถุงูุฉ ุชุฑุฌูุงุช)
    โโโ fr.json (ูุญุฏุซ - ุฅุถุงูุฉ ุชุฑุฌูุงุช)
```

## ุงุฎุชุจุงุฑ ุงููุธุงู ๐งช

### ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ:

1. โ ุฅุถุงูุฉ ูุณุคูู ุฌุฏูุฏ ุจูุฌุงุญ
2. โ ููุน ุฅุถุงูุฉ ูุณุคูู ุจุจุฑูุฏ ููุฑุฑ
3. โ ุชุนุฏูู ุจูุงูุงุช ูุณุคูู
4. โ ุชุบููุฑ ูููุฉ ูุฑูุฑ ูุณุคูู
5. โ ุชูุนูู/ุชุนุทูู ูุณุคูู
6. โ ููุน ุญุฐู ุงููุณุคูู ุงูุญุงูู
7. โ ููุน ุญุฐู ุขุฎุฑ ูุณุคูู
8. โ ุญุฐู ูุณุคูู ุจูุฌุงุญ
9. โ ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ุจุดูู ุตุญูุญ
10. โ ุฏุนู ุงููุบุชูู ุงูุนุฑุจูุฉ ูุงููุฑูุณูุฉ

## ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ ๐

- [ ] ุฅุถุงูุฉ ุตูุงุญูุงุช ูุชุนุฏุฏุฉ (Super Admin, Admin, Moderator)
- [ ] ุณุฌู ูุดุงุทุงุช ุงููุณุคูููู (Audit Log)
- [ ] ุฅุฑุณุงู ุจุฑูุฏ ุฅููุชุฑููู ุนูุฏ ุฅุถุงูุฉ ูุณุคูู ุฌุฏูุฏ
- [ ] ูุตุงุฏูุฉ ุซูุงุฆูุฉ (2FA)
- [ ] ุชุตุฏูุฑ ูุงุฆูุฉ ุงููุณุคูููู
- [ ] ููุชุฑุฉ ูุจุญุซ ูุชูุฏู
- [ ] ุฅุญุตุงุฆูุงุช ุชูุตูููุฉ ููุดุงุท ูู ูุณุคูู

## ุงูุฏุนู ูุงููุณุงุนุฏุฉ ๐ฌ

ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู:
1. ุชุญูู ูู ุฃู ุงููุณุชุฎุฏู ูุฏูู ุฏูุฑ "admin"
2. ุชุญูู ูู ุตุญุฉ JWT token
3. ุชุญูู ูู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
4. ุฑุงุฌุน console logs ููุฃุฎุทุงุก

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ:** Antigravity AI
**ุงูุชุงุฑูุฎ:** 2026-01-07
**ุงูุฅุตุฏุงุฑ:** 1.0.0
